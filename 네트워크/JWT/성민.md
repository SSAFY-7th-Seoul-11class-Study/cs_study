```
질문
1. JWT 를 설명하세요
2. JWT의 구조에 대해 설명해주세요
3. 클라이언트의 토큰이 변경되었을 시, JWT를 사용하는 서버는 어떻게 이를 알아채나요?
4. JWT의 장점을 설명하세요.
5. JWT의 단점을 설명하세요
```

#JWT 란
- JSON WEB TOKEN으로 Json 포맷을 이용하여 사용자에 대한 속성을 저장하는 Claim 기반의 Web Token이다.
JWT는 토큰 자체를 정보로 사용하는 SElf-Contained 방식으로 정보를 안전하게 전달한다.

#JWT 구조
- JWT는 Header, Payload, Signature의 3 부분으로 이루어지며, Json 형태인 각 부분은 Base64로 인코딩 되어 표현된다. 
또한 각각의 부분을 이어주기 위해. 구분자를 사용하여 구분한다. 추가로 Base64는 암호화된 문자열이 아니고, 
같은 문자열에 대해 항상 같은 인코딩 문자열을 반환한다.

1. HEADER
: 토큰의 헤더는 typ와 alg 두 가지 정보로 구성된다. typ는 토큰의 타입을 나타냄 ex) JWT 토큰은 typ : JWT,
alg는 헤더(Header)를 암호화 하는것이 아니고, Signature를 해싱하기 위한 알고리즘을 지정하는 것이다.

2. PAYLOAD
:토큰의 페이로드에는 토큰에서 사용할 정보의 조각들인 클레임(Claim)이 담겨있다.

3. Signature(서명)
서명(Signature)은 토큰을 인코딩하거나 유효성 검증을 할 때 사용되는 고유한 암호화 코드이다. 
서명(Signature)은 위에서 만든 헤더(Header)와 페이로드(Payload)의 값을 각각 BASE64로 인코딩하고,
인코딩한 값을 비밀 키를 이용해 헤더(Header)에서 정의한 알고리즘으로 해싱을 하고, 이 값을 다시 BASE64로 인코딩하여 생성한다.

#클라이언트의 토큰이 변경되었을 시, JWT를 사용하는 서버는 어떻게 이를 알아채는지
- 사실 이 문제는 JWT 구조를 설명하는 것과 같습니다. (예를 들자면 우리가 공부한 것 중 주소창에 google.com 을 치면 일어나는 일은? 과 같은 맥락이라고 생각!)

답) JWT는 유저가 데이터를 볼 수는 있지만 수정은 불가능하다.
JWT의 구조는 점을 기준으로 세 단락으로 구성되어있다. { header } . { payload } . { signature }
header와 payload는 그냥 base64로 변환만 되어있지 암호화는 안되어있다. (누구나 데이터를 볼 수 있다.)
그런데 이 signature덕분에 유저는 절대로 데이터를 변경 불가능하게 한다. signature 덕분에 서버만 데이터를 수정 가능하게 한다.
이 signature 관리는 전적으로 서버에서만 한다.
받은 토크의 데이터 조작 여부를 확인하는 것이  signature이다
header와 payload를 조합하고 솔트를 더해서 해시값을 만들어 낸다
그렇게 되면 이전에 보내준 데이터와 솔트를 이용해 해시값을 만들고 지금 요청한 것도 마찬가지고 해시값을 만든다.
둘을 비교해서 다르면 조작됐다는 것을 알아낸다.

# JWT의 장단점
장점
Self-Contained 의 특성에 따라서 별도의 인증 저장소를 필요로 하지 않는다.
MSA 환경에서 중앙 집중식 인증 서버와 DB에 의존하지 않는 인증 및 인가 방법을 제공한다.
유효성 검사 과정에서 IO 또는 네트워크 액세스를 필요로 하지 않고, 최신 웹 서버 HW에서 확장이 용이하다.

단점
토큰은 클라이언트에 저장되어 데이터베이스에서 사용자 정보를 조작하더라도 토큰에 직접 적용할 수 없습니다.
더 많은 필드가 추가되면 토큰이 커질 수 있습니다.
비상태 애플리케이션에서 토큰은 거의 모든 요청에 대해 전송되므로 데이터 트래픽 크기에 영향을 미칠 수 있습니다.
중요한 부분인 Payload 파트가 암호화되지 않기 때문에 추가적인 암호화 방안을 고려하거나, Payload에 중요한 데이터를 넣지 않고 운영해야 한다.
토큰 자체에서 상태를 관리하지 않기때문에 등록된 클레임에 해당하는 데이터 중 만료와 관련된 데이터를 필수로 사용해야 한다.


