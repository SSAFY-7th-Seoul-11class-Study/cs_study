```
1. OSI 7 layers들에 대해 말해주세요.
2. 7계층을 나누는 이유가 무엇일까요?
3. TCP와 UDP의 특징을 비교 설명해 주세요.
4. 주소창에 google.com을 치면 일어나는 일을 설명해보세요.
5. 소켓은 무엇인가요?
6. 가상회선 패킷 교환 방식은 무엇인가요?
7. 데이터그램 패킷 교환 방식은 무엇인가요?
8. 데이터 링크계층이 담당하는 주된 일은 무엇인가요?
9. ARP 프로토콜에 대해 설명해주세요
10. 4-way handshake 과정에 대해 설명해주세요 
11. 4-way handshake 과정 중 TIME_WAIT이 있는 이유는?
```
## OSI 7 layers
1) 물리(Physical)
리피터, 케이블, 허브 등
단지 데이터 전기적인 신호로 변환해서 주고받는 기능을 진행하는 공간
즉, 데이터를 전송하는 역할만 진행한다.

2) 데이터 링크(Data Link)
브릿지, 스위치 등
물리 계층으로 송수신되는 정보를 관리하여 안전하게 전달되도록 도와주는 역할
Mac 주소를 통해 통신한다. 프레임에 Mac 주소를 부여하고 에러검출, 재전송, 흐름제어를 진행한다.

3) 네트워크(Network)
라우터, IP
데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능을 담당한다.
라우터를 통해 이동할 경로를 선택하여 IP 주소를 지정하고, 해당 경로에 따라 패킷을 전달해준다.
라우팅, 흐름 제어, 오류 제어, 세그먼테이션 등을 수행한다.

4) 전송(Transport)
TCP, UDP
TCP와 UDP 프로토콜을 통해 통신을 활성화한다. 포트를 열어두고, 프로그램들이 전송을 할 수 있도록 제공해준다.
TCP : 신뢰성, 연결지향적
UDP : 비신뢰성, 비연결성, 실시간

5) 세션(Session)
API, Socket
데이터가 통신하기 위한 논리적 연결을 담당한다. TCP/IP 세션을 만들고 없애는 책임을 지니고 있다.

6) 표현(Presentation)
JPEG, MPEG 등
데이터 표현에 대한 독립성을 제공하고 암호화하는 역할을 담당한다.
파일 인코딩, 명령어를 포장, 압축, 암호화한다.

7) 응용(Application)
HTTP, FTP, DNS 등
최종 목적지로, 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행한다.
사용자 인터페이스, 전자우편, 데이터베이스 관리 등의 서비스를 제공한다.

## 7계층을 나누는 이유
- 통신이 일어나는 과정을 단계별로 알 수 있고, 특정한 곳에 이상이 생기면 그 단계만 수정할 수 있기 때문이다.

## TCP
- 연결형 서비스로 가상 회선 방식을 사용한다.
- 3-way handshaking 과정을 통해 연결을 설정하고 4-way handshaking을 통해 해제한다.
- 흐름 제어 및 혼잡제어
- 높은 신뢰성을 보장한다
- UDP보다 속도가 느리다.
- 전이중(Full-Duplex), Point to Point 방식.

## UDP
- 비연결형 서비스로 데이터그램 방식을 제공한다.
- 정보를 주고 받을 때 정보를 보내거나 받는다는 신호절차를 거치지 않는다.
- UDP헤더의 checkSum 필드를 통해 최소한의 오류만 검출한다.
- 신뢰성이 낮다.
- TCP보다 속도가 빠르다.

## 주소창에 google.com 입력하면 일어나는 일
- 사용자가 도메인 네임(google.com)을 입력하면, 입력한 URL 주소 중 Domain name 부분을 DNS 서버에서 검색한다.
DNS 서버에서 해당 도메인 네임과 맞는 IP 주소를 찾아 사용자가 입력한 URL과 같이 전달한다.
URL, IP 주소는 HTTP 프로토콜을 사용해 HTTP request 메시지를 생성해 TCP 프로토콜을 사용해 인터넷을 거쳐 해당 IP 주소의 컴퓨터로 전송된다.
도착한 HTTP request 메시지는 HTTP 프로토콜을 사용해 웹 페이지 URL 정보로 변환되어 웹 페이지 URL 정보에 해당하는 데이터를 검색한다.
검색된 웹 페이지 데이터는 HTTP 프로토콜을 사용해 HTTP response 메시지를 생성하고 TCP 프로토콜로 인터넷을 거쳐 사용자의 컴퓨터로 전송된다.
도착한 메시지는 HTTP를 사용해 웹 페이지 데이터로 변환되어 브라우저에 의해 사용자가 볼 수 있도록 출력한다.

## 소켓
- 소켓은 서버와 클라이언트 사이 통신을 할 수 있도록 해주는 창구 역할. 
- 소켓은 프로토콜(TCP, UDP), 호스트의 IP 번호와 포트 번호 그리고 목적지의 IP 번호와 포트 번호로 구성.

## 가상회선 패킷 교환 방식
-  각 패킷에는 가상회선 식별자가 포함되며 모든 패킷을 전송하면 가상회선이 해제되고 패킷들은 전송된 ‘순서대로’ 도착하는 방식.

## 데이터 그램 패킷 교환 방식
-  패킷이 독립적으로 이동하며 최적의 경로를 선택하여 가는데, 하나의 메시지에서 분할된 여러 패킷은 서로 다른 경로로 전송될 수 있으며 도착한 ‘순서가 다를 수’ 있는 방식.

## 데이터 링크 계층이 주로 담당하는 일
- 오류검출, 오류제어, 송신측과 수신측의 속도차이를 해결하기 위한 흐름제어

## ARP
- 네트워크 상에서 IP 주소를 물리적 네트워크 주소로 대응(bind)시키기 위해 사용되는 프로토콜

## 4-way handshake
1번: 먼저 클라이언트가 연결을 닫으려고 할 때 FIN으로 설정된 세그먼트를 보냅니다. 그리고 클라이언트는 FIN_WAIT_1 상태로 들어가고 서버의 응답을 기다린다.
2번: 서버는 클라이언트로 ACK라는 승인 세그먼트를 보냅니다. 그리고 CLOSE_WAIT 상태에 들어갑니다. 클라이언트가 세그먼트를 받으면 FIN_WAIT_2 상태에 들어간다.
3번: 서버는 ACK를 보내고 일정 시간 이후에 클라이언트에 FIN이라는 세그먼트를 보낸다.
4번: 클라이언트는 TIME_WAIT 상태가 되고 다시 서버로 ACK를 보내서 서버는 CLOSED 상태가 된다. 
     이후 클라이언트는 어느 정도의 시간을 대기한 후 연결이 닫히고 클라이언트와 서버의 모든 자원의 연결이 해제된다.
     
## TIME_WAIT 이 있는 이유
첫 번째는 지연 패킷이 발생할 경우를 대비하기 위함입니다. 패킷이 뒤늦게 도달하고 이를 처리하지 못한다면 데이터 무결성 문제가 발생.
두 번째는 두 장치가 연결이 닫혔는지 확인하기 위. 
만약 LAST_ACK 상태에서 닫히게 되면 다시 새로운 연결을 하려고 할 때 장치는 줄곧 LAST_ACK로 되어 있기 때문에 접속 오류가 나타나게 됨.

이런 이유로 잠시 기다릴 시간이 필요하다.




